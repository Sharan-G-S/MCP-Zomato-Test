<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zomato MCP Chat — AI Food Assistant</title>
    <meta name="description" content="AI-powered food ordering assistant using Zomato MCP. Search restaurants, browse menus, and order food through natural language chat.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" fill="#E23744"/>
                            <path d="M15.5 8.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5.67 1.5 1.5 1.5 1.5-.67 1.5-1.5z" fill="white"/>
                            <path d="M12 13c-2.33 0-4.32 1.45-5.12 3.5h10.24c-.8-2.05-2.79-3.5-5.12-3.5z" fill="white"/>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <h1>Zomato <span class="accent">MCP</span></h1>
                        <span class="badge">AI Chat</span>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="connection-status" id="connectionStatus">
                    <div class="status-dot disconnected" id="statusDot"></div>
                    <span id="statusText">Disconnected</span>
                </div>
                <button class="btn-connect" id="btnConnect" onclick="connectToZomato()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18.36 6.64a9 9 0 1 1-12.73 0"/>
                        <line x1="12" y1="2" x2="12" y2="12"/>
                    </svg>
                    <span>Connect to Zomato</span>
                </button>
            </div>
        </header>

        <!-- Main Chat Area -->
        <main class="chat-container">
            <!-- Toolbox Panel -->
            <div class="tools-panel" id="toolsPanel">
                <div class="tools-header">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                    </svg>
                    <span>Available MCP Tools</span>
                    <span class="tool-count" id="toolCount">0</span>
                </div>
                <div class="tools-list" id="toolsList">
                    <div class="tools-placeholder">Connect to Zomato to discover tools</div>
                </div>
            </div>

            <!-- Messages -->
            <div class="messages-area" id="messagesArea">
                <!-- Welcome Message -->
                <div class="welcome-card" id="welcomeCard">
                    <div class="welcome-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
                            <rect x="2" y="2" width="20" height="20" rx="4" fill="url(#grad1)"/>
                            <path d="M7 12h2l2-4 3 8 2-4h2" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <defs>
                                <linearGradient id="grad1" x1="2" y1="2" x2="22" y2="22">
                                    <stop offset="0%" stop-color="#E23744"/>
                                    <stop offset="100%" stop-color="#ff6b6b"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <h2>Welcome to Zomato MCP Chat</h2>
                    <p>Your AI-powered food assistant. Connect to Zomato via MCP to discover restaurants, browse menus, and order food — all through natural conversation.</p>
                    <div class="welcome-steps">
                        <div class="step">
                            <div class="step-num">1</div>
                            <span>Click <strong>Connect to Zomato</strong> to authenticate</span>
                        </div>
                        <div class="step">
                            <div class="step-num">2</div>
                            <span>Complete OAuth login in the popup</span>
                        </div>
                        <div class="step">
                            <div class="step-num">3</div>
                            <span>Start chatting to find & order food!</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Suggestion Chips -->
            <div class="suggestions" id="suggestions">
                <button class="chip" onclick="sendSuggestion('Show me the best restaurants near me')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                    Best restaurants nearby
                </button>
                <button class="chip" onclick="sendSuggestion('Find pizza places within 3km')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                    Pizza places nearby
                </button>
                <button class="chip" onclick="sendSuggestion('Show me vegan restaurants in my area')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    Vegan restaurants
                </button>
                <button class="chip" onclick="sendSuggestion('Order butter chicken with naan from nearby')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                    Order butter chicken
                </button>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-wrapper">
                    <input type="text" id="messageInput" placeholder="Ask me about restaurants, menus, or place an order..." autocomplete="off" onkeydown="handleKeyDown(event)">
                    <button class="btn-send" id="btnSend" onclick="sendMessage()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"/>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                        </svg>
                    </button>
                </div>
                <div class="input-footer">
                    <span>Powered by <strong>OpenAI GPT-4o</strong> + <strong>Zomato MCP</strong></span>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
